
<div class="max-w-4xl mx-auto space-y-6">
  <!-- Weekly Stats -->
  <div class="bg-gray-800 rounded-xl p-6 shadow-lg">
    <h2 class="text-xl font-semibold text-cyan-400 mb-4">Last 7 Days</h2>
    <div class="grid grid-cols-3 gap-4 text-center">
      <div>
        <p class="text-3xl font-bold text-white">{{ weeklyStats().totalWorkouts }}</p>
        <p class="text-sm text-gray-400">Workouts</p>
      </div>
      <div>
        <p class="text-3xl font-bold text-white">{{ weeklyStats().totalSets }}</p>
        <p class="text-sm text-gray-400">Sets</p>
      </div>
      <div>
        <p class="text-3xl font-bold text-white">{{ weeklyStats().totalReps }}</p>
        <p class="text-sm text-gray-400">Reps</p>
      </div>
    </div>
  </div>

  <!-- Workout Frequency Chart -->
  <div class="bg-gray-800 rounded-xl p-6 shadow-lg">
    <h2 class="text-xl font-semibold text-cyan-400 mb-4">Weekly Frequency</h2>
    <div #chart class="w-full h-[300px]"></div>
  </div>

  <!-- AI Suggestion -->
  <div class="bg-gray-800 rounded-xl p-6 shadow-lg">
    <h2 class="text-xl font-semibold text-cyan-400 mb-4">AI Workout Coach</h2>
    @if (aiSuggestion()) {
      <div class="bg-gray-700/50 p-4 rounded-lg border border-cyan-500/30">
        <p class="text-gray-200 whitespace-pre-wrap">{{ aiSuggestion() }}</p>
      </div>
    }
    
    @if (isLoadingSuggestion()) {
      <div class="flex items-center justify-center text-center p-4 bg-gray-700/50 rounded-lg">
        <i class="fas fa-spinner fa-spin text-2xl text-cyan-400 mr-3"></i>
        <span class="text-gray-300">Getting your suggestion...</span>
      </div>
    }
    
    <button (click)="getAIsuggestion()" [disabled]="isLoadingSuggestion()" class="w-full mt-4 bg-cyan-500 hover:bg-cyan-400 text-gray-900 font-bold py-3 px-4 rounded-lg transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100">
      <i class="fas fa-magic-sparkles mr-2"></i>
      Suggest My Next Move
    </button>
  </div>
  
  <!-- All Logs -->
  <div class="bg-gray-800 rounded-xl p-6 shadow-lg pb-16">
    <h2 class="text-xl font-semibold text-cyan-400 mb-4">Workout History</h2>
    <div class="space-y-3 max-h-96 overflow-y-auto pr-2">
      @for (log of logs().slice().reverse(); track log.date) {
        <div class="bg-gray-700/50 p-3 rounded-lg">
          <p class="font-bold text-white">{{ log.date | date:'fullDate' }}</p>
          <ul class="list-disc list-inside text-gray-300 text-sm mt-1">
            @for (exercise of log.exercises; track exercise.id) {
              <li>{{ exercise.name }} - {{ exercise.sets.length }} sets</li>
            }
          </ul>
        </div>
      } @empty {
        <p class="text-gray-400 text-center py-4">No workout history found. Time to hit the gym!</p>
      }
    </div>
  </div>
</div>
